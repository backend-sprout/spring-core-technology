ì˜ì¡´ê´€ê³„ ì£¼ì…
======================
> Springì—ì„œ ì§€ì›í•˜ëŠ” ì˜ì¡´ê´€ê³„ëŠ” í¬ê²Œ 4ê°€ì§€ê°€ ìˆë‹¤.  
   
* **ìƒì„±ì ì£¼ì…**     
* Setter ì£¼ì…     
* í•„ë“œ ì£¼ì…      
* ì¼ë°˜ ë©”ì„œë“œ ì£¼ì…     

# ğŸ•› ì˜ì¡´ê´€ê³„ ì£¼ì… ê°œìš” - ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì˜ ë¼ì´í”„ ì‚¬ì´í´   

ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” 2ë‹¨ê³„ì˜ ë¼ì´í”„ ì‚¬ì´í´ì„ ê°€ì§„ë‹¤.   
  
1. ìŠ¤í”„ë§ ë¹ˆì„ ë“±ë¡  
2. ì—°ê´€ ê´€ê³„ë¥¼ ìë™ìœ¼ë¡œ ì£¼ì…í•œë‹¤.  
  
ì•ì„œ ì—¬ëŸ¬ ì˜ì¡´ ê´€ê³„ ì£¼ì…ì´ ìˆë‹¤í•˜ì˜€ë‹¤.    
ì´ë“¤ì˜ íŠ¹ì§•ì„ ë³´ë©´, **`ìƒì„±ì ì£¼ì…`ì„ ì œì™¸í•œ ë°©ë²•ë“¤ì€ ë¹ˆì´ ìƒì„±ëœ í›„ì— ì˜ì¡´ ê´€ê³„ ì£¼ì…ì„ ë§ºëŠ”ë‹¤.**      
ë°˜ëŒ€ë¡œ **`ìƒì„±ì ì£¼ì…`ì€ ì˜ì¡´ ê´€ê³„ ì£¼ì…ì´ ë˜ê³  ë‚œ í›„ì—ì•¼ ë¹„ë¡œì†Œ ë¹ˆìœ¼ë¡œ ë“±ë¡ë  ìˆ˜ ìˆë‹¤.**        
    
ì´ ì ì—ì„œ `ìƒì„±ì ì£¼ì…`ì€ ê°ì²´ê°€ ë‚´ë¶€ ìƒíƒœë¥¼ ëª¨ë‘ ì•ˆì „í•˜ê²Œ ê°€ì§€ê³  ìˆìŒì„ ë°˜ì¦í•˜ê¸°ë„ í•œë‹¤.          
ë¬¼ë¡  `ìƒíƒœ íŒ¨í„´`ê³¼ ê°™ì€ ë””ìì¸ íŒ¨í„´ì„ ì‚¬ìš©í•  ë•ŒëŠ” `Setter ì£¼ì…`ì´ ìœ ë¦¬í•  ìˆ˜ ë„ ìˆë‹¤.           

# ğŸ“— ìƒì„±ì ì£¼ì…  
> ì´ë¦„ ê·¸ëŒ€ë¡œ `ìƒì„±ì`ë¥¼ í†µí•´ì„œ ì˜ì¡´ ê´€ê³„ë¥¼ ì£¼ì… ë°›ëŠ” ë°©ë²•ì´ë‹¤.   
     
* ìƒì„±ì í˜¸ì¶œì‹œì ì— ë”± 1ë²ˆ í˜¸ì¶œë˜ëŠ” ê²ƒì´ ë³´ì¥ëœë‹¤.       
* **ìƒì„±ì í˜¸ì¶œì‹œì ì´ê¸°ì— ë¹ˆì´ ë“±ë¡ ë˜ëŠ” ê³¼ì •ì—ì„œ ì—°ê´€ëœ ì˜ì¡´ ê´€ê³„ê¹Œì§€ ë¬¶ì–´ì„œ ë“±ë¡ëœë‹¤.**       
* **ë¶ˆë³€**, **í•„ìˆ˜** ì˜ì¡´ê´€ê³„ì— ì‚¬ìš©ëœë‹¤.    
  
```java
@Component
public class OrderServiceImpl implements OrderService {
    private final MemberRepository memberRepository;

    @Autowired
    public OrderServiceImpl(MemberRepository memberRepository) {
        this.memberRepository = memberRepository;
    }
}
```
ìƒì„±ì ì£¼ì…ì˜ í•œ ê°€ì§€ íŠ¹ì´ì ì´ ìˆëŠ”ë° 
ë°”ë¡œ, **ìƒì„±ìê°€ ë‹¨ í•œ ê°œë¿ì¼ ë•Œ `@Autowired`ë¥¼ ìë™ìœ¼ë¡œ ì£¼ì…í•´ì¤€ë‹¤.**     
(ë°˜ëŒ€ë¡œ ìƒì„±ìê°€ 2ê°œë¼ë©´, ë‹¨ í•˜ë‚˜ì˜ ìƒì„±ìì—ë§Œ `@Autowired`ë¥¼ ë¶™ì—¬ì£¼ì)       
   
```java
@Component
public class OrderServiceImpl implements OrderService {
    private final MemberRepository memberRepository;

    public OrderServiceImpl(MemberRepository memberRepository) {
        this.memberRepository = memberRepository;
    }
}
```
ìƒì„±ì ì£¼ì…ì€ **ë¶ˆë³€ìœ¼ë¡œ ë§Œë“œëŠ” ê²ƒì„ ìµœëŒ€í•œ ì§€í–¥í•˜ê¸°ì—** ê°•ë ¥í•˜ê²Œ ì¶”ì²œí•œë‹¤.     
            
# ğŸ“˜ Setter ì£¼ì… 
> Setter ë©”ì„œë“œë¥¼ í†µí•´, ì´ì™€ ì—°ê´€ëœ í•„ë“œì˜ ê°’ì„ ë³€ê²½í•˜ëŠ” ì˜ì¡´ ê´€ê³„ ì£¼ì… ë°©ë²•ì´ë‹¤.     
  
* **ì„ íƒ**,**ë³€ê²½** ê°€ëŠ¥ì„±ì´ ìˆëŠ” ì˜ì¡´ ê´€ê³„ì—ì„œ ì‚¬ìš©ëœë‹¤.    
* ìë°”ë¹ˆ í”„ë¡œí¼í‹° ê·œì•½ì˜ `Setter ë©”ì„œë“œ` ë°©ì‹ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ë‹¤.     
  * ìŠ¤í”„ë§ì—ì„œëŠ” `ìë°”ë¹ˆ í”„ë¡œí¼í‹° ê·œì•½`ì„ ì´ìš©í•œ ìë™í™” ê¸°ëŠ¥ì´ ë§ë‹¤.  
  * ëŒ€í‘œì ì¸ ìë™í™” ê¸°ëŠ¥ìœ¼ë¡œ, `request íŒŒë¼ë¯¸í„°`ì— ëŒ€í•œ `setter`ë¥¼ ë§Œë“¤ë©´ ì•Œì•„ì„œ ê°’ì„ ì£¼ì…ë°›ëŠ”ë‹¤.   
  * `Setter ì£¼ì…`ë„ ì´ëŸ¬í•œ ìë™í™” ì¤‘ í•˜ë‚˜ì´ë‹ˆ [ìë°”ë¹ˆ í”„ë¡œí¼í‹° ê·œì•½](https://m.blog.naver.com/PostView.naver?isHttpsRedirect=true&blogId=rbamtori&logNo=220760147541)ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ëŠ” ê²ƒì„ ì¶”ì²œí•œë‹¤.     
       
```java
@Component
public class OrderServiceImpl implements OrderService {

    private MemberRepository memberRepository;

    @Autowired
    public void setDiscountPolicy(DiscountPolicy discountPolicy) {
        this.discountPolicy = discountPolicy;
    }
}
```

**ë§Œì•½, ìƒì„±ì ì£¼ì…ì´ë‘ Setterê°€ ë™ì‹œì— ì¡´ì¬í•œë‹¤ë©´? ğŸ¤”**        
ì‹¤ì œë¡œ ëŒë ¤ë³´ë©´, **ë‘ ì˜ì¡´ ê´€ê³„ ì£¼ì… ë°©ë²• ëª¨ë‘ ì‹¤í–‰ë˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.**     
ì‚¬ì‹¤, ì•ì„œ ë§í–ˆë“¯ì´ ë‘ ì˜ì¡´ ê´€ê³„ ì£¼ì… ë°©ë²•ì˜ ì‹œì ì´ ë‹¬ë¼ì„œ ê°€ëŠ¥í–ˆë˜ ê²ƒì´ë‹¤.   
          
# ğŸ“• í•„ë“œ ì£¼ì…        
> ì´ë¦„ ê·¸ëŒ€ë¡œ í•„ë“œì— ë°”ë¡œ ì£¼ì…í•˜ëŠ” ë°©ë²•ì´ë‹¤.    

* ì½”ë“œê°€ ê°„ê²°í•˜ì§€ë§Œ, ì™¸ë¶€ì—ì„œ ë³€ê²½ì´ ë¶ˆê°€ëŠ¥í•´ì„œ í…ŒìŠ¤íŠ¸ í•˜ê¸° í˜ë“¤ë‹¤ëŠ” ì¹˜ëª…ì ì¸ ë‹¨ì ì´ ìˆë‹¤.
* DI í”„ë ˆì„ì›Œí¬ê°€ ì—†ìœ¼ë©´ ì•„ë¬´ê²ƒë„ í•  ìˆ˜ ì—†ë‹¤.
* ë¦¬í”Œë ‰ì…˜ìœ¼ë¡œ ì¸í•œ ê¸°ë³¸ ìƒì„±ìê°€ í•„ìš”í•˜ë‹¤
   
```java
@Component
public class OrderServiceImpl implements OrderService {

    @Autowired  private MemberRepository memberRepository;
    @Autowired  private DiscountPolicy discountPolicy;

    @Override
    public Order createOrder(Long memberId, String itemName, int itemPrice) {
        Member member = memberRepository.findById(memberId);
        int discountPrice = discountPolicy.discount(member, itemPrice);
        return new Order(memberId, itemName, itemPrice, discountPrice);
    }
    
}
```
```
    // NullPointer Exception ì´ ëœ¬ë‹¤.
    @Test
    void fieldInjectionTest(){
        OrderServiceImpl orderService = new OrderServiceImpl();
        orderService.createOrder(1L, "itemA", 10000);
    }
```      
í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œëŠ” ê°ì²´ë¥¼ ì£¼ì…í•´ì¤„ ë°©ë²•ì´ ì—†ì–´ `NullPointerException`ì´ ë°œìƒí•œë‹¤.      
ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” ì–µì§€ë¡œë¼ë„ ë¶ˆí•„ìš”í•œ `Setter`ë¥¼ ë§Œë“¤ì–´ì•¼í•œë‹¤.   

```java
    @Test
    void fieldInjectionTest(){
        OrderServiceImpl orderService = new OrderServiceImpl();
        
        orderService.setMemberRepository(new MemoryMemberRepository()); 	// setter ì‚¬ìš© 
        orderService.setDiscountPolicy(new FixDiscountPolicy()); 		// setter ì‚¬ìš© 

        orderService.createOrder(1L, "itemA", 10000);
    }
```
ì´ëŸ¬í•œ ë°©ì‹ì€ ë§¤ìš° ì¢‹ì§€ ì•Šì€ ê²ƒìœ¼ë¡œ í•„ë“œ ì˜ì¡´ ê´€ê³„ ì£¼ì…ì€ ê±°ì˜ ì‚¬ìš©í•˜ì§€ ë§ì!     
ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì‹¤ì œ ì½”ë“œì™€ ê´€ê³„ ì—†ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œ,      
ìŠ¤í”„ë§ ì„¤ì •ì„ ëª©ì ìœ¼ë¡œ í•˜ëŠ” `@Configuration` ê°™ì€ ê³³ì—ì„œë§Œ ì½”ë“œì˜ ê°€ë…ì„±ì„ ìœ„í•´ íŠ¹ë³„í•œ ìš©ë„ë¡œ ì‚¬ìš©í•˜ì        
  
## ğŸ“– í•„ë“œ ì£¼ì…ê³¼ Reflection
í•„ë“œ ì£¼ì…ì€ í•œ ê°€ì§€ íŠ¹ì´ì ì´ ìˆëŠ”ë°, **ì ‘ê·¼ ì§€ì •ìê°€ `private`ì—¬ë„ ì˜ì¡´ ê´€ê³„ë¥¼ ì£¼ì…í•  ìˆ˜ ìˆë‹¤.**        
ì´ëŠ” ìë°”ì˜ `Reflection`ì´ë¼ëŠ” ê¸°ëŠ¥ì„ ì´ìš©í•´ì„œ ë¹ˆì„ ì£¼ì…í•˜ê¸° ë•Œë¬¸ì´ë‹¤.      

```java
import java.util.Arrays;
import java.util.Objects;

public class ContainerService {
	
    //ë§¤ê°œê°’ìœ¼ë¡œ ë“¤ì–´ì˜¨ íƒ€ì…ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜í•˜ëŠ” ë©”ì†Œë“œ
    public static <T> T getObject(Class<T> classType){
        T instance = createInstance(classType);
        Arrays.stream(classType.getDeclaredFields()).forEach(f -> {
        
            if(Objects.nonNull(f.getAnnotation(Inject.class))){
                Object fieldInstance = createInstance(f.getType());
                f.setAccessible(true);                                // private í•„ë“œì— ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •í•œë‹¤.  
                try {
                    f.set(instance, fieldInstance); 	              // private í•„ë“œì— ê°’ì„ ë„£ëŠ”ë‹¤.   
                } catch (IllegalAccessException e) {
                    throw new RuntimeException(e);
                }
            }
        });
        return instance;
    }
	
    //ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“œëŠ” ë©”ì†Œë“œ
    private static <T> T createInstance(Class<T> classType) {
        try {
            return classType.getConstructor(null).newInstance();
        } catch(Exception e){
            throw new RuntimeException(e);
        }
    }
}
```
ë¦¬í”Œë ‰ì…˜ì„ ì´ìš©í•´ `private í•„ë“œ`ì— ì£¼ì…ì„ ì§„í–‰í–ˆê³  ì´ëŸ° ë°©ë²•ì´ ìˆë‹¤ë§Œ ì•Œì•„ë‘ì.   
ì°¸ê³ ë¡œ ë¦¬í”Œë ‰ì…˜ìœ¼ë¡œ ê°ì²´ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ì„œëŠ” ê¸°ë³¸ ìƒì„±ì(íŒŒë¼ë¯¸í„°ê°€ ì—†ëŠ”)ê°€ í•„ìš”í•˜ë¯€ë¡œ ì´ì  ìˆ™ì§€í•˜ì(JPAë„ ë‚˜ì˜¨ë‹¤)        
   
[ì°¸ê³  ì‚¬ì´íŠ¸](https://sas-study.tistory.com/271)    
      
# ğŸ“™ ì¼ë°˜ ë©”ì„œë“œ ì£¼ì…
> ì¼ë°˜ ë©”ì„œë“œì—ì„œë„ `@Autowired`ë¥¼ í†µí•´ ì˜ì¡´ ê´€ê³„ ì£¼ì…ì„ ë°›ì„ ìˆ˜ ìˆë‹¤.   

* í•œë²ˆì— ì—¬ëŸ¬ í•„ë“œë¥¼ ì£¼ì…ë°›ì„ ìˆ˜ ìˆë‹¤.   
* í•˜ì§€ë§Œ, ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.  

```java
@Component
public class OrderServiceImpl implements OrderService {

    private MemberRepository memberRepository;
    private DiscountPolicy discountPolicy;

    @Override
    public Order createOrder(Long memberId, String itemName, int itemPrice) {
        Member member = memberRepository.findById(memberId);
        int discountPrice = discountPolicy.discount(member, itemPrice);
        return new Order(memberId, itemName, itemPrice, discountPrice);
    }

    @Autowired
    public final void init(MemberRepository memberRepository, DiscountPolicy discountPolicy) {
        this.memberRepository = memberRepository;
        this.discountPolicy = discountPolicy;
    }

}
```
íŒŒë¼ë¯¸í„°ì— ì¡´ì¬í•˜ëŠ” ì—¬ëŸ¬ í•„ë“œë¥¼ ëŒ€ìƒìœ¼ë¡œ ì˜ì¡´ë°›ì„ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ ì¥ì ì´ë‹¤.          
í•˜ì§€ë§Œ, **ë§Œì•½ ë¹ˆì´ ì•„ë‹Œ ë‹¤ë¥¸ í•„ë“œê°€ í•˜ë‚˜ë¼ë„ ì˜¨ë‹¤ë©´?ğŸ¤” ë‹¹ì—°í•˜ê²Œë„ ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤.**           
     
# ğŸ““ ì˜ì¡´ê´€ê³„ ì˜µì…˜ì²˜ë¦¬    
`@Autowired(required=true/false)`ë¥¼ ì´ìš©í•˜ë©´ `ì˜ì¡´ ê´€ê³„ ì£¼ì…`ì— ëŒ€í•œ ì„ íƒì—¬ë¶€ë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤.   
        
**ìë™ ì£¼ì… ëŒ€ìƒì„ `ì˜µì…˜`ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ë‹¤ì–‘í•œ ë°©ë²•**           
* **@Autowired(required=false) :** ìë™ ì£¼ì…í•  ëŒ€ìƒì´ ì—†ìœ¼ë©´ ìˆ˜ì •ì ë©”ì„œë“œ ìì²´ê°€ í˜¸ì¶œ ì•ˆëœë‹¤.      
* **org.springframework.lang.@Nullable :** ìë™ ì£¼ì…í•  ëŒ€ìƒì´ ì—†ìœ¼ë©´ `null`ì´ ì…ë ¥ëœë‹¤.    
* **Optional<> :** ìë™ ì£¼ì…í•  ëŒ€ìƒì´ ì—†ìœ¼ë©´ `Optional.empty`ê°€ ì…ë ¥ëœë‹¤.    
       
# ğŸ“” ìƒì„±ì ì£¼ì…ì„ ì‚¬ìš©í•´ë¼!    
ìµœê·¼, ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ë¥¼ í¬í•¨í•œ `DI í”„ë ˆì„ì›Œí¬` ëŒ€ë¶€ë¶„ì´ ìƒì„±ì ì£¼ì…ì„ ê¶Œì¥í•˜ê³  ìˆë‹¤.     
        
**ë¶ˆë³€**       
* ëŒ€ë¶€ë¶„ì˜ ì˜ì¡´ê´€ê³„ ì£¼ì…ì€ í•œë²ˆ ì¼ì–´ë‚˜ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì¢…ë£Œì‹œì ê¹Œì§€ ì˜ì¡´ê´€ê³„ë¥¼ ë³€ê²½í•  ì¼ì´ ì—†ë‹¤.   
  ì˜¤íˆë ¤, ì• í”Œë¦¬ì¼€ì´ì…˜ ì¢…ë£Œ ì „ê¹Œì§€ ë³€í•˜ë©´ ì•ˆëœë‹¤.         
* ìˆ˜ì •ì ì£¼ì…ì„ ì‚¬ìš©í•˜ë©´, ë©”ì„œë“œë¥¼ publicìœ¼ë¡œ ì—´ì–´ë‘ê³  ì´ë¡œì¸í•´ ë³€ê²½ ê°€ëŠ¥ì„±ì´ ë†’ì•„ì§„ë‹¤.   
* ìƒì„±ì ì£¼ì…ì€ ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ, ë”± 1ë²ˆë§Œ í˜¸ì¶œë˜ë¯€ë¡œ ì´í›„ì— í˜¸ì¶œë˜ëŠ” ì¼ì´ ì—†ë‹¤.   
      
**ëˆ„ë½**        
`Setter ì˜ì¡´ ê´€ê³„ ì£¼ì…`ì„ ê¸°ì¤€ìœ¼ë¡œ ì„¤ëª…ì„ í•´ë³´ë ¤ í•œë‹¤.     
      
í”„ë ˆì„ì›Œí¬ ì—†ì´ ìˆœìˆ˜í•œ ìë°” ì½”ë“œë¥¼ ì´ìš©í•œë‹¤ê³  ê°€ì • í•  ë•Œ            
ìš°ì„ , ê°ì²´ë¥¼ ìƒì„±í•˜ê³ , `Setter`ë¥¼ í†µí•´ì„œ ì˜ì¡´ ê´€ê³„ë¥¼ ì§ì ‘ ë„£ì–´ì£¼ì–´ì•¼í•œë‹¤.             
ê·¸ëŸ°ë° ë§Œì•½, `Setter` í˜¸ì¶œì„ í•˜ì§€ ì•ŠëŠ” ê²½ìš°ëŠ” ì–´ë–»ê²Œ ë ê¹Œ?              
   
ì•„ì´ëŸ¬ë‹ˆí•˜ê²Œë„ **`ì»´íŒŒì¼ ì—ëŸ¬`ê°€ ë°œìƒí•˜ì§€ ì•Šìœ¼ë©° `NullPointerException`ì´ ë°œìƒí•˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.**             
ì´ë ‡ë“¯, `Setter`ëŠ” ì¼ì¢…ì˜ ë©”ì„œë“œì´ê¸° ë•Œë¬¸ì— í˜¸ì¶œì„ ëˆ„ë½í•  ìˆ˜ ìˆë‹¤ëŠ” ë¬¸ì œì ì´ ìˆë‹¤.   
        
ë°˜ëŒ€ë¡œ ìƒì„±ì ì¤‘ë¹„ì„ ì‚¬ìš©í•˜ë©´ ê°’ì´ ì—†ì„ ê²½ìš° ì»´íŒŒì¼ ì˜¤ë¥˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë©°   
ê°œë°œìëŠ” ì´ë¡œì¸í•´ ìì‹ ì˜ ì½”ë“œë¥¼ ì‹¤í–‰ ì „ì— ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” ê¸°íšŒë¥¼ ì–»ê²Œëœ ì…ˆì´ë‹¤.  
   
**final**   
ìƒì„±ì ì£¼ì…ì„ ì‚¬ìš©í•˜ë©´ ë‹¤ë¥¸ ì˜ì¡´ ê´€ê³„ ì£¼ì… ë°©ë²•ê³¼ëŠ” ë‹¤ë¥´ê²Œ `final`ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ëœë‹¤.    
ê·¸ë˜ì„œ ìƒì„±ìë¥¼ í†µí•´ ê°’ì„ ì„¤ì •í•˜ì§€ ì•ŠëŠ” ì‹¤ìˆ˜ë¥¼ ë°œìƒí•œë‹¤ë©´ ì´ë¥¼ ì»´íŒŒì¼ ì—ëŸ¬ë¡œ ë§‰ì•„ì¤€ë‹¤.  

```java
package hello.core.order;

import hello.core.discount.DiscountPolicy;
import hello.core.member.Member;
import hello.core.member.MemberRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

@Component
public class OrderServiceImpl implements OrderService {

    private final MemberRepository memberRepository;		// ì—ëŸ¬ëœ¸
    private final DiscountPolicy discountPolicy;		// ì—ëŸ¬ëœ¸ 

    public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy discountPolicy) {
    	// ê°’ ì´ˆê¸°í™” ëˆ„ë½í–ˆë‹¤.  
    }

    @Override
    public Order createOrder(Long memberId, String itemName, int itemPrice) {
        Member member = memberRepository.findById(memberId);
        int discountPrice = discountPolicy.discount(member, itemPrice);
        return new Order(memberId, itemName, itemPrice, discountPrice);
    }

    // í…ŒìŠ¤íŠ¸ ìš©ë„
    public MemberRepository getMemberRepository() {
        return memberRepository;
    }

}
```
ëˆ„ë½ ë‹¨ê³„ì— ì‚¬ìš©ë˜ë˜ í…ŒìŠ¤íŠ¸ ì½”ë“œë‚˜,    
í´ë˜ìŠ¤ ìƒì„±ì ë‚´ë¶€ì ìœ¼ë¡œ ê°‘ì„ í• ë‹¹í•˜ëŠ” ê²½ìš°ë¥¼ ëˆ„ë½í–ˆì„ ë•Œ,   
`final` í‚¤ì›Œë“œê°€ ì—†ì—ˆë‹¤ë©´ ìì—°ìŠ¤ëŸ½ê²Œ ë¡œì§ì´ ìˆ˜í–‰ë˜ë‹¤ê°€ `NullPointerException`ì´ ëœ°í…ë°   
`final` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ì»´íŒŒì¼ ì—ëŸ¬ë¥¼ ì´ëŒì–´ë‚¼ ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.   
  
ê¸°ì–µí•˜ì! **ì»´íŒŒì¼ ì—ëŸ¬ëŠ” ì„¸ìƒì—ì„œ ê°€ì¥ ë¹ ë¥´ê³ , ì¢‹ì€ ì˜¤ë¥˜ë‹¤!**  

ì°¸ê³ ë¡œ,   
ìˆ˜ì •ì ì£¼ì…ê³¼ í•„ë“œ ì£¼ì…ì€ ë¹ˆì„ ìƒì„±í•œ í›„ì— í˜¸ì¶œí•˜ê¸°ì— **í•„ë“œì— `final` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìœ¼ë©°,**    
`final` í‚¤ì›Œë“œëŠ” ì˜¤ì§ ìƒì„±ì ì£¼ì…ì—ì„œë§Œ ê°€ëŠ¥í•˜ë‹¤.         

**ì •ë¦¬**   
* ìƒì„±ì ì£¼ì… ë°©ì‹ì„ ì„ íƒí•˜ëŠ” ì´ìœ ëŠ” ì—¬ëŸ¬ê°€ì§€ê°€ ìˆì§€ë§Œ,   
  í”„ë ˆì„ì›Œí¬ì— ì˜ì¡´í•˜ì§€ ì•Šê³ , ìˆœìˆ˜í•œ ìë°” ì–¸ì–´ì˜ íŠ¹ì§•ì„ ì˜ ì‚´ë¦¬ëŠ” ë°©ë²•ì´ê¸°ë„ í•˜ë‹¤.
* ìœ—ë§ì— ë§ë¶™ì—¬ ë§í•˜ìë©´, ìˆœìˆ˜í•œ ìë°” ì–¸ì–´ì˜ íŠ¹ì§•ì„ ì‚´ë ¸ê¸°ì— í…ŒìŠ¤íŠ¸ì—ë„ ìš©ì´í•˜ë‹¤  
* ê¸°ë³¸ìœ¼ë¡œ ìƒì„±ì ì£¼ì…ì„ ì‚¬ìš©í•˜ê³ , í•„ìˆ˜ ê°’ì´ ì•„ë‹Œ ê²½ìš°ì—ëŠ” ìˆ˜ì •ì ì£¼ì… ë°©ì‹ì„ ì˜µì…˜ìœ¼ë¡œ ë¶€ì—¬í•˜ë©´ ëœë‹¤. 
* ìƒì„±ì ì£¼ì…ê³¼ ìˆ˜ì •ì ì£¼ì…ì„ ë™ì‹œì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
* í•­ìƒ ìƒì„±ì ì£¼ì…ì„ ì„ íƒí•´ë¼! ê·¸ë¦¬ê³  ê°€ë” ì˜µì…˜ì´ í•„ìš”í•˜ë©´ ìˆ˜ì •ì ì£¼ì…ì„ ì„ íƒí•´ë¼. 
* í•„ë“œ ì£¼ì…ì€ ì‚¬ìš©í•˜ì§€ì•ŠëŠ”ê²Œ ì¢‹ë‹¤   



# ë¡¬ë³µê³¼ ìµœì‹  íŠ¸ëœë“œ      
ë¡¬ë³µì€ ì£¼ë¡œ ì‚¬ìš©ë˜ëŠ” ë°˜ë³µ ì½”ë“œë“¤ì„ ëŒ€ì‹  ì‘ì„±í•´ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë‹¤.           
ì˜ˆë¥¼ ë“¤ë©´ `Getter`, `Setter`, `ToString`, `ìƒì„±ì`ì™€ ê°™ì€ ì½”ë“œë“¤ì´ ìˆë‹¤.            
ê·¸ë¦¬ê³  ë¡¬ë³µì€ **ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì„œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘ì„ í•œë‹¤.**     
    
**ë¡¬ë³µ ì„¤ì •**

1. `Prefrences(ìœˆë„ìš° File Settings)` -> `plugin` -> `lombok` ê²€ìƒ‰ ì„¤ì¹˜ ì‹¤í–‰ (ì¬ì‹œì‘)
2. `Prefrences` -> `Annotation Processors` ê²€ìƒ‰ -> `Enable annotation processing` ì²´í¬ (ì¬ì‹œì‘)
3. ì„ì˜ì˜ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ê³  `@Getter, @Setter` í™•ì¸    
    * í•„ìê°™ì€ ê²½ìš° community ì‚¬ìš©ì‹œ,   
      `Annotation Processors`ì´ ë™ì‘ì•ˆí•´ì„œ ëŸ°íƒ€ì„ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ” ê²¨ì›…ê°€ ì¢…ì¢… ìˆì—ˆë‹¤.   
      ê·¸ë ‡ê¸°ì— ì• í”Œë¦¬ì¼€ì´ì…˜ì„ `run`í•˜ê¸° ì „ì— ì˜ ëŒì•„ê°€ëŠ”ì§€ í™•ì¸ë¶€í„° í•˜ì.     
      
ì´í›„, `build.gradle`ì„ ì•„ë˜ì™€ ê°™ì´ ë³€ê²½í•´ì¤€ë‹¤.  
   
**build.gradle**    
```java
plugins {
    id 'org.springframework.boot' version '2.4.4'
    id 'io.spring.dependency-management' version '1.0.11.RELEASE'
    id 'java'
}

group = 'hello'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = '1.8'

repositories {
    mavenCentral()
}

configurations {
    compileJava {
        extendsFrom annotationProcessor
    }
}

dependencies {
    implementation 'org.projectlombok:lombok'

    compileOnly'org.projectlombok:lombok'
    annotationProcessor 'org.projectlombok:lombok'

    testCompileOnly'org.projectlombok:lombok'
    testAnnotationProcessor 'org.projectlombok:lombok'

    implementation 'org.springframework.boot:spring-boot-starter'
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
}

test {
    useJUnitPlatform()
}
```

**ì ìš© í™•ì¸**
```java
package hello.core;

import lombok.Getter;
import lombok.Setter;
import lombok.ToString;

@Getter
@Setter
@ToString
public class HelloLombok {

    private String name;
    private int age;

    public static void main(String[] args) {
        HelloLombok helloLombok = new HelloLombok();
        helloLombok.setName("hi");
        System.out.println("helloLombok = " + helloLombok);

        String name = helloLombok.getName();
        System.out.println("name = " + name);
    }
}
```
ìœ„ ì½”ë“œë¥¼ ë³´ë©´ í´ë˜ìŠ¤ì—ëŠ” ì‹¤ì§ˆì ì¸ `Getter/Setter` ë©”ì„œë“œê°€ ì¡´ì¬í•˜ì§€ ì•Šì§€ë§Œ   
ì»´íŒŒì¼ ì—ëŸ¬ë„ ì—†ìœ¼ë©°, í•´ë‹¹ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê³  ì‚¬ìš©í•˜ê³  ìˆìŒì„ ì•Œ ìˆ˜ ìˆë‹¤.     

**ë¡¬ë³µìœ¼ë¡œ ë¦¬íŒ©í„°ë§ ë° ë¹„êµ**
```java
package hello.core.order;

import hello.core.discount.DiscountPolicy;
import hello.core.member.Member;
import hello.core.member.MemberRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

@Component
public class OrderServiceImpl implements OrderService {

    private final MemberRepository memberRepository;
    private final DiscountPolicy discountPolicy;

    @Autowired
    public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy discountPolicy) {
        this.memberRepository = memberRepository;
        this.discountPolicy = discountPolicy;
    }

    @Override
    public Order createOrder(Long memberId, String itemName, int itemPrice) {
        Member member = memberRepository.findById(memberId);
        int discountPrice = discountPolicy.discount(member, itemPrice);
        return new Order(memberId, itemName, itemPrice, discountPrice);
    }

    // í…ŒìŠ¤íŠ¸ ìš©ë„
    public MemberRepository getMemberRepository() {
        return memberRepository;
    }

}

```

```java
package hello.core.order;

import hello.core.discount.DiscountPolicy;
import hello.core.member.Member;
import hello.core.member.MemberRepository;
import lombok.RequiredArgsConstructor;
import org.springframework.stereotype.Component;

@RequiredArgsConstructor
@Component
public class OrderServiceImpl implements OrderService {

    private final MemberRepository memberRepository;
    private final DiscountPolicy discountPolicy;

    @Override
    public Order createOrder(Long memberId, String itemName, int itemPrice) {
        Member member = memberRepository.findById(memberId);
        int discountPrice = discountPolicy.discount(member, itemPrice);
        return new Order(memberId, itemName, itemPrice, discountPrice);
    }

    // í…ŒìŠ¤íŠ¸ ìš©ë„
    public MemberRepository getMemberRepository() {
        return memberRepository;
    }

}
```  
ë¡¬ë³µì„ ì‚¬ìš©í•˜ë©´ì„œ, ë§¤ í´ë˜ìŠ¤ë§ˆë‹¤ ë°˜ë³µì ìœ¼ë¡œ ì‘ì„±í•´ì•¼í•  ì½”ë“œë“¤ì„ ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ í•´ê²°í–ˆë‹¤.         
ì°¸ê³ ë¡œ ìœ„ ì½”ë“œëŠ” ìƒì„±ìê°€ 1ê°œì¼ ê²½ìš° `@Autowired`ê°€ ë¶™ëŠ”ë‹¤ëŠ” íŠ¹ì§•ì„ í™œìš©í•œ ê²ƒì´ë‹¤.             
ì¶”ê°€ì ìœ¼ë¡œ, í•„ì(kwj1270)ì˜ ì¶”ì²œìœ¼ë¡œ `@Builder`ë¼ëŠ” ì–´ë…¸í…Œì´ì…˜ë„ ìˆìœ¼ë‹ˆ ì´ë¥¼ í™œìš©í•˜ë©´ ì¢‹ì„ ê²ƒì´ë©°      
ì´ì™¸ì—ë„ [ì‹¤ë¬´ì—ì„œ ìœ ìš©í•œ ë¡¬ë³µ ì‚¬ìš©ë²•](https://cheese10yun.github.io/lombok/)ì— ëŒ€í•´ì„œ YUNë‹˜ì´ê»˜ì„œ ì •ë¦¬í•´ì£¼ì…¨ìœ¼ë‹ˆ ì´ì  ì°¸ê³ í•˜ì    
          





    
    
  



